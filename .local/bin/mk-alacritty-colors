#!/usr/bin/env bash
#
#Generate colors.yml for Alacritty
#Usage: run `mk-alacritty-colors` whenever you change palettes.

set -euo pipefail          # safer bash defaults

# 1. Location where Alacritty expects the snippet
outfile="$HOME/.config/alacritty/colors.yml"

# 2. Read the active palette into this script's variables
source "$HOME/.config/colors/current"

# 3. Write YAML to $outfile
cat > "$outfile" <<EOF
# Auto‑generated by mk‑alacritty‑colors on $(date --iso-8601=seconds)
colors:
  primary:
    background: "$COLOR0"
    foreground: "$COLOR15"
  normal:
    black:   "$COLOR0"
    red:     "$COLOR1"
    green:   "$COLOR2"
    yellow:  "$COLOR3"
    blue:    "$COLOR4"
    magenta: "$COLOR5"
    cyan:    "$COLOR6"
    white:   "$COLOR7"
  bright:
    black:   "$COLOR8"
    red:     "$COLOR9"
    green:   "$COLOR10"
    yellow:  "$COLOR11"
    blue:    "$COLOR12"
    magenta: "$COLOR13"
    cyan:    "$COLOR14"
    white:   "$COLOR15"
EOF

echo "Wrote Alacritty colors to $outfile"

